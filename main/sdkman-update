#!/usr/bin/env bash

set -euo pipefail

#shellcheck disable=SC1091
source "${SCRIPTS_DIR}/functions.bash"
check_no_args "$@"

# set +u to avoid 'ZSH_VERSION: unbound variable'
set +u

# shellcheck disable=SC1091
source "${SDKMAN_DIR}/bin/sdkman-init.sh"

log 'Updating SDKMAN metadata'
update_sdkman_metadata
log 'Updated SDKMAN metadata'

log 'Updating SDKMAN packages'
install_sdkman_packages
log 'Updated SDKMAN packages'

log 'Updating Temurin JDKs'
install_latest_tem_jdks
log 'Updated Temurin JDKs'

log 'Setting default JDK'
set_default_jdk_to_latest_installed
log 'Set default JDK'

set -u
